'''
	Reads from sha values file and requests server for the complete info about that commit. We fetch it as a 
	dict object and dump it in a .dat file as a json object. 
'''

import requests
import json
path='/home/pranav/Project/Eclipse2.1/PreReleaseFiles/'
f=open(path+'sha_pre.dat','r')
out=f.readlines()
enter='\n'
ct=1
id=0
for x in out:
	id=id+1
	if(id>300):
		continue
	str='https://api.github.com/repos/eclipse/eclipse.jdt.core/commits/{}' .format(x)
	str=str[:-1]
	r = requests.get(str, auth=('pranavrr93', 'project1'))
	commit_data=r.json()
	filename='sha'+repr(ct)
	f=open(filename,'w')
	f.write(json.dumps(commit_data))	
	#json.dump(commit_data,f)
	f.close()
	print repr(id)+' completed'
	ct+=1

	
